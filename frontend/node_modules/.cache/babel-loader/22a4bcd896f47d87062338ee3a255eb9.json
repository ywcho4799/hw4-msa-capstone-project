{"remainingRequest":"/workspace/hw4-msa-capstone-project/frontend/node_modules/babel-loader/lib/index.js!/workspace/hw4-msa-capstone-project/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/workspace/hw4-msa-capstone-project/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/workspace/hw4-msa-capstone-project/frontend/src/components/Pickup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/workspace/hw4-msa-capstone-project/frontend/src/components/Pickup.vue","mtime":1658725381000},{"path":"/workspace/hw4-msa-capstone-project/frontend/babel.config.js","mtime":1658724955000},{"path":"/workspace/hw4-msa-capstone-project/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1658794618851},{"path":"/workspace/hw4-msa-capstone-project/frontend/node_modules/babel-loader/lib/index.js","mtime":1658794619371},{"path":"/workspace/hw4-msa-capstone-project/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1658794618851},{"path":"/workspace/hw4-msa-capstone-project/frontend/node_modules/vue-loader/lib/index.js","mtime":1658794619679}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Y29uc3QgYXhpb3MgPSByZXF1aXJlKCdheGlvcycpLmRlZmF1bHQ7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1BpY2t1cCcsCiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IHsKICAgIHZhbHVlOiBbT2JqZWN0LCBTdHJpbmcsIE51bWJlciwgQm9vbGVhbiwgQXJyYXldLAogICAgZWRpdE1vZGU6IEJvb2xlYW4sCiAgICBpc05ldzogQm9vbGVhbiwKICAgIG9mZmxpbmU6IEJvb2xlYW4KICB9LAogIGRhdGE6ICgpID0+ICh7fSksCgogIGNyZWF0ZWQoKSB7CiAgICBpZiAoIXRoaXMudmFsdWUpIHsKICAgICAgdGhpcy52YWx1ZSA9IHt9OwogICAgfQoKICAgIGlmICh0eXBlb2YgdGhpcy52YWx1ZSA9PT0gJ29iamVjdCcpIHsKICAgICAgaWYgKCEoJ3BpY2t1cFN0YXR1cycgaW4gdGhpcy52YWx1ZSkpIHsKICAgICAgICB0aGlzLnZhbHVlLnBpY2t1cFN0YXR1cyA9IG51bGw7CiAgICAgIH0KCiAgICAgIGlmICghKCdvcmRlcklkJyBpbiB0aGlzLnZhbHVlKSkgewogICAgICAgIHRoaXMudmFsdWUub3JkZXJJZCA9IG51bGw7CiAgICAgIH0KCiAgICAgIGlmICghKCdjdXN0b21lckFkZHInIGluIHRoaXMudmFsdWUpKSB7CiAgICAgICAgdGhpcy52YWx1ZS5jdXN0b21lckFkZHIgPSBudWxsOwogICAgICB9CgogICAgICBpZiAoISgnY3VzdG9tZXJUZWwnIGluIHRoaXMudmFsdWUpKSB7CiAgICAgICAgdGhpcy52YWx1ZS5jdXN0b21lclRlbCA9IG51bGw7CiAgICAgIH0KCiAgICAgIGlmICghKCdjdXN0b21lcklkJyBpbiB0aGlzLnZhbHVlKSkgewogICAgICAgIHRoaXMudmFsdWUuY3VzdG9tZXJJZCA9IG51bGw7CiAgICAgIH0KCiAgICAgIGlmICghKCdwaWNrdXBJZCcgaW4gdGhpcy52YWx1ZSkpIHsKICAgICAgICB0aGlzLnZhbHVlLnBpY2t1cElkID0gbnVsbDsKICAgICAgfQoKICAgICAgaWYgKCEoJ3BpY2t1cFN0YXR1cycgaW4gdGhpcy52YWx1ZSkpIHsKICAgICAgICB0aGlzLnZhbHVlLnBpY2t1cFN0YXR1cyA9IG51bGw7CiAgICAgIH0KICAgIH0KICB9LAoKICBtZXRob2RzOiB7CiAgICBzZWxlY3RGaWxlKCkgewogICAgICBpZiAodGhpcy5lZGl0TW9kZSA9PSBmYWxzZSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgICAgaW5wdXQudHlwZSA9ICJmaWxlIjsKICAgICAgaW5wdXQuYWNjZXB0ID0gImltYWdlLyoiOwogICAgICBpbnB1dC5pZCA9ICJ1cGxvYWRJbnB1dCI7CiAgICAgIGlucHV0LmNsaWNrKCk7CgogICAgICBpbnB1dC5vbmNoYW5nZSA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIHZhciBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOwogICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHJlc3VsdCA9IHJlYWRlci5yZXN1bHQ7CiAgICAgICAgICBtZS5pbWFnZVVybCA9IHJlc3VsdDsKICAgICAgICAgIG1lLnZhbHVlLnBob3RvID0gcmVzdWx0OwogICAgICAgIH07CgogICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgICB9OwogICAgfSwKCiAgICBlZGl0KCkgewogICAgICB0aGlzLmVkaXRNb2RlID0gdHJ1ZTsKICAgIH0sCgogICAgYXN5bmMgc2F2ZSgpIHsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgdGVtcCA9IG51bGw7CgogICAgICAgIGlmICghdGhpcy5vZmZsaW5lKSB7CiAgICAgICAgICBpZiAodGhpcy5pc05ldykgewogICAgICAgICAgICB0ZW1wID0gYXdhaXQgYXhpb3MucG9zdChheGlvcy5maXhVcmwoJy9waWNrdXBzJyksIHRoaXMudmFsdWUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGVtcCA9IGF3YWl0IGF4aW9zLnB1dChheGlvcy5maXhVcmwodGhpcy52YWx1ZS5fbGlua3Muc2VsZi5ocmVmKSwgdGhpcy52YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy52YWx1ZSAhPSBudWxsKSB7CiAgICAgICAgICBmb3IgKHZhciBrIGluIHRlbXAuZGF0YSkgdGhpcy52YWx1ZVtrXSA9IHRlbXAuZGF0YVtrXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy52YWx1ZSA9IHRlbXAuZGF0YTsKICAgICAgICB9CgogICAgICAgIHRoaXMuZWRpdE1vZGUgPSBmYWxzZTsKICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHRoaXMudmFsdWUpOwoKICAgICAgICBpZiAodGhpcy5pc05ldykgewogICAgICAgICAgdGhpcy4kZW1pdCgnYWRkJywgdGhpcy52YWx1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJGVtaXQoJ2VkaXQnLCB0aGlzLnZhbHVlKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBhbGVydChlLm1lc3NhZ2UpOwogICAgICB9CgogICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0sCgogICAgYXN5bmMgcmVtb3ZlKCkgewogICAgICB0cnkgewogICAgICAgIGlmICghdGhpcy5vZmZsaW5lKSB7CiAgICAgICAgICBhd2FpdCBheGlvcy5kZWxldGUoYXhpb3MuZml4VXJsKHRoaXMudmFsdWUuX2xpbmtzLnNlbGYuaHJlZikpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5lZGl0TW9kZSA9IGZhbHNlOwogICAgICAgIHRoaXMuaXNEZWxldGVkID0gdHJ1ZTsKICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHRoaXMudmFsdWUpOwogICAgICAgIHRoaXMuJGVtaXQoJ2RlbGV0ZScsIHRoaXMudmFsdWUpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgYWxlcnQoZS5tZXNzYWdlKTsKICAgICAgfQogICAgfSwKCiAgICBjaGFuZ2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdGhpcy52YWx1ZSk7CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":"AAqFA;;AAEA;EACAA,cADA;EAEAC,cAFA;EAGAC;IACAC,+CADA;IAEAC,iBAFA;IAGAC,cAHA;IAIAC;EAJA,CAHA;EASAC,gBATA;;EAWAC;IACA;MACA;IACA;;IAEA;MACA;QACA;MACA;;MACA;QACA;MACA;;MACA;QACA;MACA;;MACA;QACA;MACA;;MACA;QACA;MACA;;MACA;QACA;MACA;;MACA;QACA;MACA;IACA;EACA,CAvCA;;EAyCAC;IACAC;MACA;QACA;MACA;;MACA;MACA;MACAC;MACAA;MACAA;MAEAA;;MACAA;QACA;QACA;;QAEAC;UACA;UACAC;UACAA;QAEA,CALA;;QAMAD;MACA,CAXA;IAYA,CAxBA;;IAyBAE;MACA;IACA,CA3BA;;IA4BA;MACA;QACA;;QAEA;UACA;YACAC;UACA,CAFA,MAEA;YACAA;UACA;QACA;;QAEA;UACA;QACA,CAFA,MAEA;UACA;QACA;;QAEA;QACA;;QAEA;UACA;QACA,CAFA,MAEA;UACA;QACA;MAEA,CA1BA,CA0BA;QACAC;MACA;;MACAC;IACA,CA3DA;;IA4DA;MACA;QACA;UACA;QACA;;QAEA;QACA;QAEA;QACA;MAEA,CAXA,CAWA;QACAD;MACA;IACA,CA3EA;;IA4EAE;MACA;IACA;;EA9EA;AAzCA","names":["name","components","props","value","editMode","isNew","offline","data","created","methods","selectFile","input","reader","me","edit","temp","alert","location","change"],"sourceRoot":"src/components","sources":["Pickup.vue"],"sourcesContent":["<template>\n\n    <v-card style=\"width:450px;\" outlined>\n        <template slot=\"progress\">\n            <v-progress-linear\n                    color=\"deep-purple\"\n                    height=\"10\"\n                    indeterminate\n            ></v-progress-linear>\n        </template>\n\n        <v-card-title v-if=\"value._links\">\n            Pickup # {{value._links.self.href.split(\"/\")[value._links.self.href.split(\"/\").length - 1]}}\n        </v-card-title >\n        <v-card-title v-else>\n            Pickup\n        </v-card-title >\n\n        <v-card-text>\n            <div>\n                <String label=\"PickupStatus\" v-model=\"value.pickupStatus\" :editMode=\"editMode\"/>\n            </div>\n            <div>\n                <Number label=\"OrderId\" v-model=\"value.orderId\" :editMode=\"editMode\"/>\n            </div>\n            <div>\n                <String label=\"CustomerAddr\" v-model=\"value.customerAddr\" :editMode=\"editMode\"/>\n            </div>\n            <div>\n                <String label=\"CustomerTel\" v-model=\"value.customerTel\" :editMode=\"editMode\"/>\n            </div>\n            <div>\n                <String label=\"CustomerId\" v-model=\"value.customerId\" :editMode=\"editMode\"/>\n            </div>\n            <div>\n                <String label=\"PickupId\" v-model=\"value.pickupId\" :editMode=\"editMode\"/>\n            </div>\n            <div>\n                <String label=\"PickupStatus\" v-model=\"value.pickupStatus\" :editMode=\"editMode\"/>\n            </div>\n        </v-card-text>\n\n        <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn\n                    color=\"deep-purple lighten-2\"\n                    text\n                    @click=\"edit\"\n                    v-if=\"!editMode\"\n            >\n                Edit\n            </v-btn>\n            <v-btn\n                    color=\"deep-purple lighten-2\"\n                    text\n                    @click=\"save\"\n                    v-else\n            >\n                Save\n            </v-btn>\n            <v-btn\n                    color=\"deep-purple lighten-2\"\n                    text\n                    @click=\"remove\"\n                    v-if=\"!editMode\"\n            >\n                Delete\n            </v-btn>\n            <v-btn\n                    color=\"deep-purple lighten-2\"\n                    text\n                    @click=\"editMode = false\"\n                    v-if=\"editMode && !isNew\"\n            >\n                Cancel\n            </v-btn>\n        </v-card-actions>\n        <v-card-actions>\n            <v-spacer></v-spacer>                        \n        </v-card-actions>\n    </v-card>\n\n</template>\n\n<script>\n    const axios = require('axios').default;\n    \n    export default {\n        name: 'Pickup',\n        components:{},\n        props: {\n            value: [Object, String, Number, Boolean, Array],\n            editMode: Boolean,\n            isNew: Boolean,\n            offline: Boolean\n        },\n        data: () => ({\n        }),\n        created(){\n            if(!this.value) {\n                this.value = {};\n            }\n\n            if(typeof this.value === 'object') {\n                if(!('pickupStatus' in this.value)) {\n                    this.value.pickupStatus = null;\n                }\n                if(!('orderId' in this.value)) {\n                    this.value.orderId = null;\n                }\n                if(!('customerAddr' in this.value)) {\n                    this.value.customerAddr = null;\n                }\n                if(!('customerTel' in this.value)) {\n                    this.value.customerTel = null;\n                }\n                if(!('customerId' in this.value)) {\n                    this.value.customerId = null;\n                }\n                if(!('pickupId' in this.value)) {\n                    this.value.pickupId = null;\n                }\n                if(!('pickupStatus' in this.value)) {\n                    this.value.pickupStatus = null;\n                }\n            }            \n        },\n\n        methods: {\n            selectFile(){\n            if(this.editMode == false) {\n                return false;\n            }\n                var me = this\n                var input = document.createElement(\"input\");\n                input.type = \"file\";\n                input.accept = \"image/*\";\n                input.id = \"uploadInput\";\n                \n                input.click();\n                input.onchange = function (event) {\n                    var file = event.target.files[0]\n                    var reader = new FileReader();\n\n                    reader.onload = function () {\n                        var result = reader.result;\n                        me.imageUrl = result;\n                        me.value.photo = result;\n                        \n                    };\n                    reader.readAsDataURL( file );\n                };\n            },\n            edit() {\n                this.editMode = true;\n            },\n            async save(){\n                try {\n                    var temp = null;\n\n                    if(!this.offline) {\n                        if(this.isNew) {\n                            temp = await axios.post(axios.fixUrl('/pickups'), this.value)\n                        } else {\n                            temp = await axios.put(axios.fixUrl(this.value._links.self.href), this.value)\n                        }\n                    }\n\n                    if(this.value!=null) {\n                        for(var k in temp.data) this.value[k]=temp.data[k];\n                    } else {\n                        this.value = temp.data;\n                    }\n\n                    this.editMode = false;\n                    this.$emit('input', this.value);\n\n                    if (this.isNew) {\n                        this.$emit('add', this.value);\n                    } else {\n                        this.$emit('edit', this.value);\n                    }\n\n                } catch(e) {\n                    alert(e.message)\n                }\n                location.reload()\n            },\n            async remove(){\n                try {\n                    if (!this.offline) {\n                        await axios.delete(axios.fixUrl(this.value._links.self.href))\n                    }\n\n                    this.editMode = false;\n                    this.isDeleted = true;\n\n                    this.$emit('input', this.value);\n                    this.$emit('delete', this.value);\n\n                } catch(e) {\n                    alert(e.message)\n                }\n            },\n            change(){\n                this.$emit('input', this.value);\n            },\n        },\n    }\n</script>\n\n"]}]}